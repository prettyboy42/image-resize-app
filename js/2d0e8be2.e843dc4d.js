(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d0e8be2"],{"8b24":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{attrs:{padding:""}},[a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"q-gutter-md row items-start"})]),a("div",{staticClass:"q-pa-md fixed-center justify-between shadow-24",staticStyle:{"min-width":"700px","min-height":"450px"}},[a("div",{staticClass:"q-gutter-sm column items-start"},[a("label",[e._v("Image quality: "+e._s(e.imageQuality)+" (0 to 100)")]),a("q-slider",{attrs:{min:0,max:100,label:"",color:"green"},model:{value:e.imageQuality,callback:function(t){e.imageQuality=t},expression:"imageQuality"}}),a("div",{staticClass:"q-gutter-sm"},[a("q-checkbox",{attrs:{label:"Preserve metadata",color:"teal"},model:{value:e.reserveMetadata,callback:function(t){e.reserveMetadata=t},expression:"reserveMetadata"}}),a("q-checkbox",{attrs:{label:"Auto orientation",color:"orange"},model:{value:e.reserveOrientation,callback:function(t){e.reserveOrientation=t},expression:"reserveOrientation"}})],1)],1),a("q-space"),a("q-uploader",{staticClass:"full-width",staticStyle:{"margin-top":"20px"},attrs:{accept:"image/jpeg, image/png",label:"Upload images. Max upload size (5MB)",factory:e.uploadFactoryFn,"max-file-size":5242880,"auto-upload":"",flat:"",square:"",bordered:"","no-thumbnails":""},on:{uploaded:e.onFinishedFn,"factory-failed":e.onFactoryFailedFn,failed:e.onFailedFn},scopedSlots:e._u([{key:"header",fn:function(t){return[a("div",{staticClass:"row no-wrap items-center q-pa-sm q-gutter-xs"},[t.queuedFiles.length>0?a("q-btn",{attrs:{icon:"clear_all",round:"",dense:"",flat:""},on:{click:t.removeQueuedFiles}},[a("q-tooltip",[e._v("Clear All")])],1):e._e(),t.uploadedFiles.length>0?a("q-btn",{attrs:{icon:"done_all",round:"",dense:"",flat:""},on:{click:t.removeUploadedFiles}},[a("q-tooltip",[e._v("Remove Uploaded Files")])],1):e._e(),t.isUploading?a("q-spinner",{staticClass:"q-uploader__spinner"}):e._e(),a("div",{staticClass:"col"},[a("div",{staticClass:"q-uploader__title"},[e._v("Upload your files")]),a("div",{staticClass:"q-uploader__subtitle"},[e._v(e._s(t.uploadSizeLabel)+" / "+e._s(t.uploadProgressLabel))])]),t.canAddFiles?a("q-btn",{attrs:{type:"a",icon:"add_box",round:"",dense:"",flat:""}},[a("q-uploader-add-trigger"),a("q-tooltip",[e._v("Pick Files")])],1):e._e(),t.canUpload?a("q-btn",{attrs:{icon:"cloud_upload",round:"",dense:"",flat:""},on:{click:t.upload}},[a("q-tooltip",[e._v("Upload Files")])],1):e._e(),t.isUploading?a("q-btn",{attrs:{icon:"clear",round:"",dense:"",flat:""},on:{click:t.abort}},[a("q-tooltip",[e._v("Abort Upload")])],1):e._e()],1)]}},{key:"list",fn:function(t){return[a("q-list",{attrs:{separator:""}},e._l(t.files,(function(i){return a("q-item",{key:i.name},[a("q-item-section",[a("q-item-label",{staticClass:"full-width ellipsis"},[e._v(e._s(i.name))]),a("q-item-label",{attrs:{caption:""}},[e._v("Status: "+e._s(i.__status))]),a("q-item-label",{attrs:{caption:""}},[e._v(e._s(i.__sizeLabel)+" / "+e._s(i.__progressLabel))])],1),"uploaded"===i.__status?a("q-item-section",[a("q-item-label",{staticClass:"full-width ellipsis"},[e._v("After resize")]),a("q-item-label",{attrs:{caption:""}},[e._v(e._s(e.getSizeLabelAfterResized(i.xhr)))]),a("q-item-label",{attrs:{caption:""}},[a("a",{attrs:{href:e.getDownloadUrl(i.xhr),download:""}},[e._v("download")])])],1):e._e(),"uploaded"===i.__status?a("q-item-section",{staticClass:"gt-xs",attrs:{thumbnail:""}},[a("img",{attrs:{src:e.getUrlAfterResized(i.xhr)}})]):e._e(),a("q-item-section",{attrs:{top:"",side:""}},[a("q-btn",{staticClass:"gt-xs",attrs:{size:"12px",flat:"",dense:"",round:"",icon:"delete"},on:{click:function(e){return t.removeFile(i)}}})],1)],1)})),1)]}}])})],1)])},s=[],l=a("2b0e"),o=a("60a3"),r=a("85ee"),n=a("fe09"),d=function(e,t,a,i){var s,l=arguments.length,o=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,a,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(o=(l<3?s(o):l>3?s(t,a,o):s(t,a))||o);return l>3&&o&&Object.defineProperty(t,a,o),o};const{humanStorageSize:c}=n["b"];let u=class extends l["default"]{constructor(){super(...arguments),this.retFiles=[],this.reserveMetadata=!1,this.reserveOrientation=!0,this.imageQuality=75,this.imageWidth=1}openLogin(){this.$router.push("/login")}logout(){this.loginService().logOut()}uploadFactoryFn(e){const t=new Promise(e=>{e({url:r["f"],method:"POST",withCredentials:!0,headers:[{name:"Authorization",value:"Basic "+btoa(r["e"])}],formFields:[{name:"clientFileId",value:Date.now()},{name:"imageQuality",value:this.imageQuality},{name:"imageWidth",value:this.imageWidth},{name:"keepMetaInfo",value:this.reserveMetadata},{name:"enableAutoOrientation",value:this.reserveOrientation}],fieldName:"file"})});return t}onFinishedFn(e){}onFailedFn(e){console.log("failed: "+e)}onFactoryFailedFn(e,t){console.log("factory-failed: "+e)}getSizeLabel(e){return c(e)}getSizeLabelAfterResized(e){const t=JSON.parse(e.responseText).message[0];return t.size?this.getSizeLabel(t.size):""}getUrlAfterResized(e){const t=JSON.parse(e.responseText).message[0];return t.url?t.url:""}getDownloadUrl(e){const t=JSON.parse(e.responseText).message[0];return t.downloadUrl?t.downloadUrl:""}get authenticated(){return this.$store.getters.authenticated}get username(){return this.$store.getters.account?this.$store.getters.account.login:""}};d([Object(o["b"])("loginService")],u.prototype,"loginService",void 0),u=d([Object(o["a"])({name:"IndexPage"})],u);var p=u,m=p,g=a("2877"),f=Object(g["a"])(m,i,s,!1,null,null,null);t["default"]=f.exports}}]);