(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d0a314a"],{"013f":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-page",{attrs:{padding:""}},[r("div",{staticClass:"row no-wrap items-center"},[r("div",{staticClass:"col-md-8 fixed-center shadow-24",staticStyle:{"max-width":"400px"}},[r("q-card",[r("q-card-section",[r("div",{staticClass:"text-h6",attrs:{id:"login-title"},domProps:{textContent:e._s(e.$t("login.title"))}},[e._v("Registration")])]),r("q-separator"),e.authenticationError?r("q-card-section",[r("div",{staticClass:"alert alert-danger",attrs:{role:"alert"},domProps:{innerHTML:e._s(e.$t("login.messages.error.authentication"))}},[r("strong",[e._v("Failed to sign in!")]),e._v(" Please check your credentials and try again.\n          ")])]):e._e(),r("q-card-section",{staticClass:"q-pa-md"},[r("q-form",{ref:"loginForm",staticClass:"q-gutter-md",on:{submit:function(t){return e.doLogin()},reset:function(t){return e.onReset()}}},[r("q-input",{attrs:{filled:"",label:"Your username *",hint:"username","lbottom-slots":"",error:e.$v.username.$anyDirty&&e.$v.username.$invalid},scopedSlots:e._u([{key:"error",fn:function(){return[e.$v.username.required?e._e():r("span",{domProps:{textContent:e._s(e.$t("register.messages.validate.login.required"))}},[e._v("Your username is required.")]),e.$v.username.minLength?e._e():r("span",{domProps:{textContent:e._s(e.$t("register.messages.validate.login.minlength"))}},[e._v("Your username is required to be at least 1 character.")])]},proxy:!0}]),model:{value:e.$v.username.$model,callback:function(t){e.$set(e.$v.username,"$model",t)},expression:"$v.username.$model"}}),r("q-input",{attrs:{filled:"",type:"password",label:"Your password *","lazy-rules":"",rules:[function(e){return null!==e&&""!==e||"Please type your password"}]},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("q-toggle",{attrs:{label:"I accept the license and terms"},model:{value:e.rememberMe,callback:function(t){e.rememberMe=t},expression:"rememberMe"}}),r("div",[r("q-btn",{attrs:{label:"Login",type:"submit",color:"primary"}}),r("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Reset",type:"reset",color:"primary",flat:""}}),r("span",[e._v("or")]),r("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Register",type:"button",to:"/register",color:"primary",flat:""}})],1)],1)],1)],1)],1)])])},n=[],a=r("2b0e"),o=r("60a3"),i=r("2fe1");const l=function(){const e=this.$vnode.componentOptions.Ctor.options.__validations||{},t={};for(const r in e){if(!e.hasOwnProperty(r))continue;let s=e[r];"__validations__"===r&&(s=this[s]),"function"===typeof s&&(s=s.call(this)),"__validations__"===r?Object.assign(t,s):t[r]=s}return t};function c(e){return Object(i["a"])((t,r)=>{t.__validations||(t.__validations={}),t.__validations[r]=e,t.validations=l,console.log("Validation: Component options",t)})}var u=r("a748"),d=r("1b66"),m=r("b5ae"),p=function(e,t,r,s){var n,a=arguments.length,o=a<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(o=(a<3?n(o):a>3?n(t,r,o):n(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o};let h=class extends a["default"]{constructor(){super(...arguments),this.username=null,this.password=null,this.rememberMe=!1,this.authenticationError=!1,this.formHasError=!1}doLogin(){if(this.$v.$touch(),this.$v.$invalid)return;const e={username:this.username,password:this.password,rememberMe:this.rememberMe};u["a"].post("api/authenticate",e).then(e=>{const t=e.headers.authorization;if(t&&"Bearer "===t.slice(0,7)){const e=t.slice(7,t.length);d["c"](e,this.rememberMe)}this.authenticationError=!1,this.accountService().retrieveAccount(),this.$router.push("/"),this.$q.notify({color:"green-4",textColor:"white",icon:"fas fa-check-circle",message:"Login successully"})}).catch(()=>{this.authenticationError=!0})}onReset(){this.$v.$reset()}};p([c({required:m["required"],minLength:Object(m["minLength"])(6)})],h.prototype,"username",void 0),p([Object(o["b"])("accountService")],h.prototype,"accountService",void 0),h=p([Object(o["a"])({name:"LoginDecorator"})],h);var v=h,f=v,g=r("2877"),b=Object(g["a"])(f,s,n,!1,null,null,null);t["default"]=b.exports}}]);